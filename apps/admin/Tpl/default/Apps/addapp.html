<include file="../Public/_header" />
<div class="so_main">
  <div class="page_tit">应用信息</div>
    <form method="post" action="{:U('admin/Apps/doAddapp')}" enctype="multipart/form-data" onsubmit="return infosubmit();">
    <input type="hidden" name="path_name" value="onlineapp" />
  
  <div class="form2">
    <dl class="lineD">
      <dt>目录名：</dt>
      <dd>
        <input name="path_name" type="text" value="onlineapp" disabled>
        <!-- <p>如需修改，请直接修改对应的目录名</p> -->
      </dd>
    </dl>
    
    <dl class="lineD">
      <dt>应用名称：</dt>
      <dd>
        <input name="app_name" type="text" value="onlineapp" disabled>
        <p>暂不支持修改</p>
      </dd>
    </dl>
    
    <dl class="lineD">
      <dt><font color="red">应用别名：</font></dt>
      <dd>
        <input name="app_alias" id="app_alias" type="text" value="{$app_alias}">
        <p>前台展示的应用名称</p>
      </dd>
    </dl>
    
    <dl class="lineD">
      <dt><font color="red">官方名称：</font></dt>
      <dd>
        <input name="app_offi" id="app_offi" type="text" value="{$app_offi}">
        <p>前台展示的官方名称</p>
      </dd>
    </dl>
    
    <dl class="lineD">
      <dt><font color="red">图标设置方案</font></dt>
      <dd>
        <input name="app_set"  type="radio" value="1" checked onclick="clickmethod();">图标上传
        <input name="app_set"  type="radio" value="2" onclick="clickmethod();">外链图标地址
      </dd>
    </dl>
    
    <dl class="lineD" id="icon">
      <dt>应用图标：</dt>
      <dd>
        <input name="icon_url" type="file">
        <p>前台展示的应用图标（24X24）</p>
      </dd>
    </dl>
    
    <dl class="lineD" id="large_icon">
      <dt>应用图标大图：</dt>
      <dd>
        <input name="large_icon_url" type="file">
        <p>应用安装时的应用图标（64X64）</p>
      </dd>
    </dl>
    
    <dl class="lineD" id="icon_upload">
      <dt>应用图标：</dt>
      <dd>
        <input name="icon_url" type="text">
        <p>前台展示的应用图标（24X24）</p>
      </dd>
    </dl>
    
    <dl class="lineD" id="large_icon_upload">
      <dt>应用图标大图：</dt>
      <dd>
        <input name="large_icon_url" type="text">
        <p>应用安装时的应用图标（64X64）</p>
      </dd>
    </dl>
    
    <dl class="lineD">
      <dt>应用类型：</dt>
      <dd>
        <select name="category" id="category">
        	{:getDatadictData("app_catalog")}
        </select>
        <p>应用安装时展示的的应用类型</p>
      </dd>
    </dl>
    
    <dl class="lineD">
      <dt>应用简介：</dt>
      <dd>
        <textarea rows="5" cols="50" name="description">{$description}</textarea>
        <p>前台展示的应用简介</p>
      </dd>
    </dl>
    
    <dl class="lineD">
      <dt>是否推荐：</dt>
      <dd>
      <php>echo $is_recommend</php>  
      <php>$is_recommend = ($is_recommend=='0')?$is_recommend:'1'</php>
        <label><input name="is_recommend" type="radio" value="0" <eq name="is_recommend" value="0">checked</eq>>否</label><br/>
        <label><input name="is_recommend" type="radio" value="1" <eq name="is_recommend" value="1">checked</eq>>是</label><br/>
   
    </dd>
    </dl>
    
    <dl class="lineD">
      <dt>托管方式：</dt>
      <dd>
       	 <input type="radio" name="host_type" onclick="clickselect();" value="1" checked >在线应用
       	 <input type="radio" name="host_type" onclick="clickselect();" value="2">客户端应用
      </dd>
    </dl>
    
    <dl class="lineD">
      <dt>评价得分：</dt>
      <dd>
        <input name="score_all" type="text">
        <p>应用的评价得分</p>
      </dd>
    </dl>
    
    <dl class="lineD">
      <dt>安装数量 ：</dt>
      <dd>
        <input name="add_num" type="text">
        <p>应用的安装数量</p>
      </dd>
    </dl>
    
    <dl class="lineD">
      <dt>计费类型 ：</dt>
      <dd>
        <input name="type_name" type="text" >
        <p>应用的计费类型</p>
      </dd>
    </dl>
    
    <dl class="lineD">
      <dt>前台入口：</dt>
      <dd>
        <input name="app_entry" type="text" value="Index/index" readonly>
        <p>使用“Action/act”格式 [ 不可修改 ]</p>
      </dd>
    </dl>
    
    <dl class="lineD" id="urlget">
      <dt><font color="red">应用页面：</font></dt>
      <dd><input type="text" name="link_url" id="linkurl"/>
      	<p>应用程序下载地址或者应用的连接地址</p>
      </dd>
    </dl>
    <dl class="lineD" id="upload">
      <dt><font color="red">附件上传：</font></dt>
      <dd><input type="file" name="uploadfile"/>
      	<p>客户端上传</p>
      </dd>
    </dl>
    <dl class="lineD">
      <dt>作者：</dt>
      <dd>
      	<input name="author_name" type="text" value="{:getUserName($mid)}"/><br>
      </dd>
    </dl>
    <dl>
    	<dt>邮箱：</dt>
    	<dd>
      	<input name="author_email" type="text" value="admin@admin.com"/>
        </dd>
    </dl>
    <dl>
    	<dt>个人网站：</dt>
    	<dd>
      	<input name="author_homepage_url" type="text" value="www.admin.com"/>
        </dd>
    </dl>
    <dl class="lineD">
      <dt>贡献者：</dt>
      <dd>
        <input name="contributor_name" type="text" value="{:getUserName($mid)}"/>
      </dd>
    </dl>
    <input name="status" type="hidden" value="2"/>
    <div class="page_btm">
      <input type="submit" class="btn_b" value="安装" />
    </div>
  </div>
    <input type="hidden" id="category_id" name="category_id"/>
  </form>
</div>

<script type="text/javascript">
	function infosubmit(){
		if($("#app_alias").val()){
			return true;
		}
		alert("请填写应用别名！");
		return false;
	};
	$(function(){
		clickmethod();
		clickselect();
	})
	$("#category").blur(function(){
	  var dataid = $("#category option:checked").attr("alt");
	  $("#category_id").val(dataid);
	});
	function clickmethod(){
		$("#icon").hide();
		$("#large_icon").hide();
		$("#icon_upload").hide();
		$("#large_icon_upload").hide();
		if($("input:radio[name='app_set']:checked").val()==1){
			$("#icon").show();
			$("#large_icon").show();
		}
		if($("input:radio[name='app_set']:checked").val()==2){
			$("#icon_upload").show();
			$("#large_icon_upload").show();
		}
	}
	function clickselect(){
		$("#urlget").hide();
		$("#upload").hide();
		if($("input:radio[name='host_type']:checked").val()==1){
			$("#urlget").show();
		}
		if($("input:radio[name='host_type']:checked").val()==2){
			$("#upload").show();
		}
	}
    function messageBox(item) {
        alert(item);
        return false;
    }
    
    function changeto(param){
    	var sel=$("#category_id");
    	var option=sel.options[sel.selectedIndex];
    	alert(option);
    }
</script>
<include file="../Public/_footer" />